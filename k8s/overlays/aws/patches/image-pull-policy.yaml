# ============================================
# Image Pull Policy Patch for AWS
# ============================================
# Purpose: Set imagePullPolicy to IfNotPresent for ECR images

apiVersion: apps/v1
kind: Deployment
metadata:
  name: api-gateway
  namespace: payflow
spec:
  template:
    spec:
      containers:
        - name: api-gateway
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: auth-service
  namespace: payflow
spec:
  template:
    spec:
      containers:
        - name: auth-service
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: wallet-service
  namespace: payflow
spec:
  template:
    spec:
      containers:
        - name: wallet-service
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: transaction-service
  namespace: payflow
spec:
  template:
    spec:
      containers:
        - name: transaction-service
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: notification-service
  namespace: payflow
spec:
  template:
    spec:
      containers:
        - name: notification-service
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: frontend
  namespace: payflow
spec:
  template:
    spec:
      containers:
        - name: frontend
          imagePullPolicy: IfNotPresent

